angular.module("giftSwitch",["appRoutes","mainCtrl","wishlistService","exchangeService"]),angular.module("appRoutes",["ngRoute"]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"app/views/pages/home.html"}).when("/recipient",{templateUrl:"app/views/pages/recipient.html",controller:"recipientController",controllerAs:"recipient"}).when("/settings",{templateUrl:"app/views/pages/settings.html",controller:"settingsController",controllerAs:"settings"}).when("/login",{templateUrl:"app/views/pages/login.html",controller:"mainController",controllerAs:"login"}),t.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("mainCtrl",["wishlistService","exchangeService","ng-sortable"]).controller("mainController",["$window","$scope","$location","Wishlist","Exchange",function(e,t,n,i,o){var l=this;l.loggedIn=!1,"/login"!==n.path()&&(l.loggedIn=!0,i.owner().success(function(e){l.owner=e}),i.all().success(function(e){l.wishlist=e}),o.all().success(function(e){l.exchanges=e})),l.addItem=function(){i.add(l.userData).success(function(e){l.userData={},i.all().success(function(e){l.wishlist=e})})},l.updateItem=function(e,t){var n={};n.description=document.getElementsByName("newDescription")[t].value,n.url=document.getElementsByName("newUrl")[t].value,i.update(e,n).success(function(e){l.wishlist[t]=e})},l.removeItem=function(e){i.remove(e).success(function(e){i.all().success(function(e){l.wishlist=e})})},l.isActive=function(e){return e===n.path()},l.googleLogin=function(){e.location.href="/auth/google"},l.logOut=function(){e.location.href="/logout"}}]),angular.module("exchangeService",[]).factory("Exchange",["$http",function(e){var t={};return t.all=function(){return e.get("/api/exchange")},t.add=function(t){return e.post("/api/exchange",t)},t.update=function(t,n){return e.put("/api/exchange/"+t,n)},t.remove=function(t){return e["delete"]("/api/exchange/"+t)},t}]),angular.module("wishlistService",[]).factory("Wishlist",["$http",function(e){var t={};return t.owner=function(){return e.get("/api/me")},t.all=function(){return e.get("/api/wishlist")},t.add=function(t){return e.post("/api/wishlist",t)},t.update=function(t,n){return e.put("/api/wishlist/"+t,n)},t.remove=function(t){return e["delete"]("/api/wishlist/"+t)},t}]);
angular.module("giftSwitch",["appRoutes","mainCtrl","wishlistService"]),angular.module("appRoutes",["ngRoute"]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"app/views/pages/home.html"}).when("/login",{templateUrl:"app/views/pages/login.html",controller:"mainController",controllerAs:"login"}),t.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("mainCtrl",["wishlistService","ng-sortable"]).controller("mainController",["$window","$location","Wishlist",function(e,t,n){var i=this;i.loggedIn=!1,"/login"!==t.path()&&(i.loggedIn=!0,n.owner().success(function(e){i.owner=e}),n.all().success(function(e){i.wishlist=e})),i.addItem=function(){n.add(i.userData).success(function(e){i.userData={},i.wishlist=e})},i.updateItem=function(e,t){var o={};o.description=document.getElementsByName("newDescription")[t].value,o.url=document.getElementsByName("newUrl")[t].value,n.update(e,o).success(function(e){i.wishlist[t]=e})},i.removeItem=function(e){n.remove(e).success(function(e){i.wishlist=e})},i.googleLogin=function(){e.location.href="/auth/google"},i.logOut=function(){e.location.href="/logout"}}]),angular.module("wishlistService",[]).factory("Wishlist",["$http",function(e){var t={};return t.owner=function(){return e.get("/api/me")},t.all=function(){return e.get("/api/wishlist")},t.add=function(t){return e.post("/api/wishlist",t)},t.update=function(t,n){return e.put("/api/wishlist/"+t,n)},t.remove=function(t){return e["delete"]("/api/wishlist/"+t)},t}]);
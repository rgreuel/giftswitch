angular.module("giftSwitch",["appRoutes","mainCtrl","wishlistService"]),angular.module("appRoutes",["ngRoute"]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"app/views/pages/home.html"}).when("/login",{templateUrl:"app/views/pages/login.html",controller:"mainController",controllerAs:"login"}),t.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("mainCtrl",["wishlistService","ng-sortable"]).controller("mainController",["$window","$scope","$location","Wishlist",function(e,t,n,i){var o=this;o.loggedIn=!1,"/login"!==n.path()&&(o.loggedIn=!0,i.owner().success(function(e){o.owner=e}),i.all().success(function(e){o.wishlist=e})),o.addItem=function(){i.add(o.userData).success(function(e){o.userData={},i.all().success(function(e){o.wishlist=e})})},o.updateItem=function(e,t){var n={};n.description=document.getElementsByName("newDescription")[t].value,n.url=document.getElementsByName("newUrl")[t].value,i.update(e,n).success(function(e){o.wishlist[t]=e})},o.removeItem=function(e){i.remove(e).success(function(e){o.wishlist=e})},o.isActive=function(e){return e===n.path()},o.googleLogin=function(){e.location.href="/auth/google"},o.logOut=function(){e.location.href="/logout"}}]),angular.module("wishlistService",[]).factory("Wishlist",["$http",function(e){var t={};return t.owner=function(){return e.get("/api/me")},t.all=function(){return e.get("/api/wishlist")},t.add=function(t){return e.post("/api/wishlist",t)},t.update=function(t,n){return e.put("/api/wishlist/"+t,n)},t.remove=function(t){return e["delete"]("/api/wishlist/"+t)},t}]);